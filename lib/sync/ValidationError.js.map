{"version":3,"sources":["../../src/sync/ValidationError.js"],"names":["ValidationError","payload","expected","toJSON","got","description","errors","key","Error"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAeaA,e,WAAAA,e;;;AAEX,2BAAYC,OAAZ,EAA6C;AAAA;;AAAA,wJACrC,iBADqC;;AAE3C,UAAKA,OAAL,GAAeA,OAAf;AAF2C;AAG5C;;;;6BACoC;AACnC,UAAMA,UAAsC;AAC1CC,kBAAU,KAAKD,OAAL,CAAaC,QAAb,CAAsBC,MAAtB,EADgC;AAE1CC,aAAK,KAAKH,OAAL,CAAaG;AAFwB,OAA5C;AAIA,UAAI,KAAKH,OAAL,CAAaI,WAAjB,EACEJ,QAAQI,WAAR,GAAsB,KAAKJ,OAAL,CAAaI,WAAnC;AACF,UAAI,KAAKJ,OAAL,CAAaK,MAAjB,EAAyB;AACvB,YAAMA,UAAS,EAAf;AADuB;AAAA;AAAA;;AAAA;AAEvB,0DAAkB,oBAAY,KAAKL,OAAL,CAAaK,MAAzB,CAAlB,4GAAoD;AAAA,gBAAzCC,IAAyC;;AAClDD,oBAAOC,IAAP,IAAc,KAAKN,OAAL,CAAaK,MAAb,CAAoBC,IAApB,EAAyBJ,MAAzB,EAAd;AACD;AAJsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKvBF,gBAAQK,MAAR,GAAiBA,OAAjB;AACD;AACD,aAAOL,OAAP;AACD;;;qBArBkCO,K","file":"ValidationError.js","sourcesContent":["// @flow\n\nimport { Type } from \"./Type\";\nimport { AsyncType } from \"../async/AsyncType\";\n\nexport type Errors = { [key: string]: ValidationError };\nexport type ValidationErrorPayload = {\n  expected: Type<any> | AsyncType<any>,\n  got: mixed,\n  errors?: Errors,\n  description?: string\n};\nexport type ValidationErrorJSONPayload = {\n  expected: { name: string },\n  description?: string,\n  got: any,\n  errors?: { [key: string]: ValidationErrorJSONPayload }\n};\nexport class ValidationError extends Error {\n  payload: ValidationErrorPayload;\n  constructor(payload: ValidationErrorPayload) {\n    super(\"ValidationError\");\n    this.payload = payload;\n  }\n  toJSON(): ValidationErrorJSONPayload {\n    const payload: ValidationErrorJSONPayload = {\n      expected: this.payload.expected.toJSON(),\n      got: this.payload.got\n    };\n    if (this.payload.description)\n      payload.description = this.payload.description;\n    if (this.payload.errors) {\n      const errors = {};\n      for (const key of Object.keys(this.payload.errors)) {\n        errors[key] = this.payload.errors[key].toJSON();\n      }\n      payload.errors = errors;\n    }\n    return payload;\n  }\n}\n"]}