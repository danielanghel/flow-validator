{"version":3,"sources":["../../src/sync/Vunion.js"],"names":["Vunion","a","b","u","VUnionType","left","right","parse","v","e","ValidationError","expected","got"],"mappings":";;;;;QAKgBA,M,GAAAA,M;;AAHhB;;AACA;;AAEO,SAASA,MAAT,CAAsBC,CAAtB,EAAmCC,CAAnC,EAAkE;AACvE,MAAMC,IAAI,IAAIC,iBAAJ,CAAeH,CAAf,EAAkBC,CAAlB,EAAqB,aAAK;AAClC,QAAIG,aAAJ;AACA,QAAIC,cAAJ;AACA,QAAI;AACFD,aAAOJ,EAAEM,KAAF,CAAQC,CAAR,CAAP;AACD,KAFD,CAEE,OAAOC,CAAP,EAAU;AACV,UAAIA,aAAaC,gCAAjB,EAAiC,CAAjC,KACK,MAAMD,CAAN;AACN;AACD,QAAI;AACFH,cAAQJ,EAAEK,KAAF,CAAQC,CAAR,CAAR;AACD,KAFD,CAEE,OAAOC,CAAP,EAAU;AACV,UAAIA,aAAaC,gCAAjB,EAAiC,CAAjC,KACK,MAAMD,CAAN;AACN;AACD,QAAIJ,IAAJ,EAAU,OAAOA,IAAP;AACV,QAAIC,KAAJ,EAAW,OAAOA,KAAP;AACX,UAAM,IAAII,gCAAJ,CAAoB,EAAEC,UAAUR,CAAZ,EAAeS,KAAKJ,CAApB,EAApB,CAAN;AACD,GAlBS,CAAV;AAmBA,SAAOL,CAAP;AACD","file":"Vunion.js","sourcesContent":["// @flow\n\nimport { ValidationError } from \"./ValidationError\";\nimport { VType, VUnionType } from \"./VType\";\n\nexport function Vunion<A, B>(a: VType<A>, b: VType<B>): VUnionType<A, B> {\n  const u = new VUnionType(a, b, v => {\n    let left;\n    let right;\n    try {\n      left = a.parse(v);\n    } catch (e) {\n      if (e instanceof ValidationError);\n      else throw e;\n    }\n    try {\n      right = b.parse(v);\n    } catch (e) {\n      if (e instanceof ValidationError);\n      else throw e;\n    }\n    if (left) return left;\n    if (right) return right;\n    throw new ValidationError({ expected: u, got: v });\n  });\n  return u;\n}\n"]}