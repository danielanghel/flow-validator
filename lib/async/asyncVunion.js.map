{"version":3,"sources":["../../src/async/asyncVunion.js"],"names":["asyncVunion","a","b","u","AsyncVUnionType","v","left","right","parse","ValidationError","expected","got"],"mappings":";;;;;;;;;;;;;;QAKgBA,W,GAAAA,W;;AAHhB;;AACA;;;;AAEO,SAASA,WAAT,CACLC,CADK,EAELC,CAFK,EAGkB;AAAA;;AACvB,MAAMC,IAAI,IAAIC,2BAAJ,CAAoBH,CAApB,EAAuBC,CAAvB;AAAA,wFAA0B,iBAAMG,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAC9BC,kBAD8B;AAE9BC,mBAF8B;AAAA;AAAA;AAAA,qBAInBN,EAAEO,KAAF,CAAQH,CAAR,CAJmB;;AAAA;AAIhCC,kBAJgC;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA,oBAM5B,uBAAaG,gCANe;AAAA;AAAA;AAAA;;AAMC;AAND;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,qBAUlBP,EAAEM,KAAF,CAAQH,CAAR,CAVkB;;AAAA;AAUhCE,mBAVgC;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA,oBAY5B,uBAAaE,gCAZe;AAAA;AAAA;AAAA;;AAYC;AAZD;AAAA;;AAAA;AAAA;;AAAA;AAAA,mBAe9BH,IAf8B;AAAA;AAAA;AAAA;;AAAA,+CAejBA,IAfiB;;AAAA;AAAA,mBAgB9BC,KAhB8B;AAAA;AAAA;AAAA;;AAAA,+CAgBhBA,KAhBgB;;AAAA;AAAA,oBAiB5B,IAAIE,gCAAJ,CAAoB,EAAEC,UAAUP,CAAZ,EAAeQ,KAAKN,CAApB,EAApB,CAjB4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA1B;;AAAA;AAAA;AAAA;AAAA,MAAV;AAmBA,SAAOF,CAAP;AACD","file":"asyncVunion.js","sourcesContent":["// @flow\n\nimport { ValidationError } from \"../sync/ValidationError\";\nimport { AsyncVType, AsyncVUnionType } from \"./AsyncVType\";\n\nexport function asyncVunion<A, B>(\n  a: AsyncVType<A>,\n  b: AsyncVType<B>\n): AsyncVUnionType<A, B> {\n  const u = new AsyncVUnionType(a, b, async v => {\n    let left;\n    let right;\n    try {\n      left = await a.parse(v);\n    } catch (e) {\n      if (e instanceof ValidationError);\n      else throw e;\n    }\n    try {\n      right = await b.parse(v);\n    } catch (e) {\n      if (e instanceof ValidationError);\n      else throw e;\n    }\n    if (left) return left;\n    if (right) return right;\n    throw new ValidationError({ expected: u, got: v });\n  });\n  return u;\n}\n"]}