{"version":3,"sources":["../../src/async/asyncReturns.js"],"names":["asyncReturns","asyncVreturns","t","args","ret","f","apply","parse","validate"],"mappings":";;;;;;;;;;;;;;QAiCgBA,Y,GAAAA,Y;QAqCAC,a,GAAAA,a;;AAnEhB;;AACA;;;;AAHA;;AAgCO,SAASD,YAAT,CACLE,CADK,EAEsE;AAC3E,SAAO;AAAA,oFACL;AAAA,wCAAkBC,IAAlB;AAAkBA,YAAlB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,iBADR,GACcC,EAAEC,KAAF,CAAQ,IAAR,EAAcH,IAAd,CADd;AAAA,+CAESD,EAAEK,KAAF,CAAQH,GAAR,CAFT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADK;AAAA,GAAP;AAKD;;AA6BM,SAASH,aAAT,CACLC,CADK,EAEsE;AAC3E,SAAO;AAAA,oFACL;AAAA,yCAAkBC,IAAlB;AAAkBA,YAAlB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,iBADR,GACcC,EAAEC,KAAF,CAAQ,IAAR,EAAcH,IAAd,CADd;AAAA,6BAESD,CAFT;AAAA;AAAA,qBAE0BE,GAF1B;;AAAA;AAAA;AAAA,6DAEWI,QAFX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADK;AAAA,GAAP;AAKD","file":"asyncReturns.js","sourcesContent":["// @flow\n/* eslint-disable no-redeclare */\n\nimport { AsyncType } from \"./AsyncType\";\nimport { AsyncVType } from \"./AsyncVType\";\n\ndeclare function asyncReturns<P, P2, P3, P4, P5, P6, R>(\n  t: AsyncType<R>\n): (\n  f: (p: P, p2: P2, p3: P3, p4: P4, p5: P5, p6: P6) => Promise<R> | R\n) => (p: P, p2: P2, p3: P3, p4: P4, p5: P5, p6: P6) => Promise<R>;\ndeclare function asyncReturns<P, P2, P3, P4, P5, R>(\n  t: AsyncType<R>\n): (\n  f: (p: P, p2: P2, p3: P3, p4: P4, p5: P5) => Promise<R>\n) => (p: P, p2: P2, p3: P3, p4: P4, p5: P5) => Promise<R>;\ndeclare function asyncReturns<P, P2, P3, P4, R>(\n  t: AsyncType<R>\n): (\n  f: (p: P, p2: P2, p3: P3, p4: P4) => Promise<R>\n) => (p: P, p2: P2, p3: P3, p4: P4) => Promise<R>;\ndeclare function asyncReturns<P, P2, P3, R>(\n  t: AsyncType<R>\n): (\n  f: (p: P, p2: P2, p3: P3) => Promise<R>\n) => (p: P, p2: P2, p3: P3) => Promise<R>;\ndeclare function asyncReturns<P, P2, R>(\n  t: AsyncType<R>\n): (f: (p: P, p2: P2) => Promise<R>) => (p: P, p2: P2) => Promise<R>;\ndeclare function asyncReturns<P, R>(\n  t: AsyncType<R>\n): (f: (p: P) => Promise<R>) => (p: P) => Promise<R>;\n\nexport function asyncReturns<R>(\n  t: AsyncType<R>\n): (f: (...p: Array<any>) => Promise<R>) => (...p: Array<any>) => Promise<R> {\n  return f =>\n    async function(...args) {\n      const ret = f.apply(this, args);\n      return t.parse(ret);\n    };\n}\n\ndeclare function asyncVreturns<P, P2, P3, P4, P5, P6, R>(\n  t: AsyncVType<R>\n): (\n  f: (p: P, p2: P2, p3: P3, p4: P4, p5: P5, p6: P6) => Promise<R>\n) => (p: P, p2: P2, p3: P3, p4: P4, p5: P5, p6: P6) => Promise<R>;\ndeclare function asyncVreturns<P, P2, P3, P4, P5, R>(\n  t: AsyncVType<R>\n): (\n  f: (p: P, p2: P2, p3: P3, p4: P4, p5: P5) => Promise<R>\n) => (p: P, p2: P2, p3: P3, p4: P4, p5: P5) => Promise<R>;\ndeclare function asyncVreturns<P, P2, P3, P4, R>(\n  t: AsyncVType<R>\n): (\n  f: (p: P, p2: P2, p3: P3, p4: P4) => Promise<R>\n) => (p: P, p2: P2, p3: P3, p4: P4) => Promise<R>;\ndeclare function asyncVreturns<P, P2, P3, R>(\n  t: AsyncVType<R>\n): (\n  f: (p: P, p2: P2, p3: P3) => Promise<R>\n) => (p: P, p2: P2, p3: P3) => Promise<R>;\ndeclare function asyncVreturns<P, P2, R>(\n  t: AsyncVType<R>\n): (f: (p: P, p2: P2) => Promise<R>) => (p: P, p2: P2) => Promise<R>;\ndeclare function asyncVreturns<P, R>(\n  t: AsyncVType<R>\n): (f: (p: P) => Promise<R>) => (p: P) => Promise<R>;\n\nexport function asyncVreturns<R>(\n  t: AsyncVType<R>\n): (f: (...p: Array<any>) => Promise<R>) => (...p: Array<any>) => Promise<R> {\n  return f =>\n    async function(...args) {\n      const ret = f.apply(this, args);\n      return t.validate(await ret);\n    };\n}\n"]}